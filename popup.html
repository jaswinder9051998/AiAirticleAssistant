<!DOCTYPE html>
<html>
<head>
    <title>Article Assistant</title>
    <style>
        body {
            width: 350px;
            padding: 15px;
            font-family: Arial, sans-serif;
        }
        
        .container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .api-key-section {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .api-key-input-group {
            display: none; /* Hidden by default */
        }
        
        .api-key-display {
            display: none; /* Hidden by default */
            background-color: #f5f5f5;
            padding: 8px;
            border-radius: 4px;
            margin-bottom: 10px;
            align-items: center;
            justify-content: space-between;
        }
        
        .api-key-display.visible {
            display: flex;
        }
        
        .api-key-input-group.visible {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .delete-key-btn {
            background-color: #ff6b6b;
            padding: 4px 8px;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .delete-key-btn:hover {
            background-color: #ff5252;
        }
        
        .model-section {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        input[type="text"], select {
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            width: 100%;
            box-sizing: border-box;
        }
        
        button {
            padding: 8px 16px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            width: 100%;
        }
        
        button:hover {
            background-color: #45a049;
        }
        
        button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        
        .status {
            color: #666;
            font-size: 0.9em;
            text-align: center;
            margin-top: 10px;
        }
        
        .error {
            color: #ff0000;
            font-size: 0.9em;
            margin-top: 5px;
        }

        .setup-required {
            color: #ff6b6b;
            text-align: center;
            padding: 10px;
            border: 1px solid #ff6b6b;
            border-radius: 4px;
            margin-bottom: 10px;
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="setupRequired" class="setup-required">
            Please set up your OpenRouter API key to continue
        </div>

        <div class="api-key-section">
            <div id="apiKeyInputGroup" class="api-key-input-group">
                <label for="apiKey">OpenRouter API Key:</label>
                <input type="text" id="apiKey" placeholder="Enter your OpenRouter API key">
                <button id="saveSettings">Save Settings</button>
            </div>

            <div id="apiKeyDisplay" class="api-key-display">
                <span>API Key: ••••••••••••</span>
                <button class="delete-key-btn" id="deleteKey">Delete Key</button>
            </div>
        </div>

        <div class="model-section">
            <label for="model">Model:</label>
            <select id="model">
                <option value="google/gemini-2.0-flash-001">Gemini 2.0 Flash (Default)</option>
                <option value="google/gemini-pro">Gemini Pro</option>
                <option value="anthropic/claude-3-opus">Claude 3 Opus</option>
                <option value="anthropic/claude-3-sonnet">Claude 3 Sonnet</option>
                <option value="deepseek/deepseek-chat">Deepseek Chat</option>
                <option value="openai/gpt-4">GPT-4</option>
                <option value="openai/gpt-3.5-turbo">GPT-3.5 Turbo</option>
            </select>
        </div>

        <button id="process">Process Article</button>
        <button id="clear">Clear Highlights</button>
        
        <div id="status" class="status"></div>
        <div id="error" class="error"></div>
    </div>
    <script src="popup.js"></script>
</body>
</html> 